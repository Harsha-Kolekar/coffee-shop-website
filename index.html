<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee</title>

    <!-- SWIPER -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />

    <!-- Font Awesome CDN Link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Custom CSS File Link  -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Auth check will be handled by auth.js -->
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    
    <!-- Immediate redirect check -->  
    <script>
        // Check if user is authenticated before showing any content
        if (!localStorage.getItem('token')) {
            console.log('No token found, redirecting to login immediately');
            window.location.replace('login.html');
        }
    </script>

</head>

<body>

    <!-- HEADER -->
    <header class="header">
        <div id="menu-btn" class="fas fa-bars"></div>

        <a href="#" class="logo">coffee <i class="fas fa-mug-hot"></i></a>

        <nav class="navbar">
            <a href="#home">home</a>
            <a href="#about">about</a>
            <a href="#menu">menu</a>
            <a href="#review">review</a>
            <a href="#book">book</a>
            <!-- Cart Icon -->
            <a href="#" id="cart-icon" class="cart-icon" style="position: relative; margin-left: 1rem;">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-count" class="cart-count" style="position: absolute; top: -8px; right: -8px; background: #ff4d4d; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold;">0</span>
            </a>
            <!-- Guest Menu (shown when user is not logged in) -->
            <div id="guest-menu" style="display: inline-block;">
                <a href="login.html" class="btn" style="margin-right: 1rem;">Login</a>
                <a href="register.html" class="btn">Register</a>
            </div>
            <!-- User Menu (shown when user is logged in) -->
            <div id="user-menu" style="display: none; margin-left: 1rem;">
                <a href="#" id="profile-link" class="btn">My Profile</a>
                <a href="#" id="logout-btn" class="btn" style="margin-left: 1rem;">Logout</a>
            </div>
        </nav>

        <a href="#book" class="btn">book a table</a>
    </header>

    <!-- HOME -->
    <section class="home" id="home">
        <div class="row">
            <div class="content">
                <h3>fresh coffee in the morning</h3>
                <a href="#menu" class="btn">buy one now</a>
            </div>

            <div class="image">
                <img src="image/home-img-1.png" class="main-home-image" alt="">
            </div>
        </div>

        <div class="image-slider">
            <img src="image/home-img-1.png" alt="">
            <img src="image/home-img-2.png" alt="">
            <img src="image/home-img-3.png" alt="">
        </div>
    </section>

    <!-- ABOUT -->
    <section class="about" id="about">
        <h1 class="heading">about us <span>why choose us</span></h1>

        <div class="row">
            <div class="image">
                <img src="image/about-img.png" alt="">
            </div>

            <div class="content">
                <h3 class="title">what's make our coffee special!</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel rerum laboriosam reprehenderit ipsa id
                    repellat odio illum, voluptas, necessitatibus assumenda adipisci. Hic, maiores iste? Excepturi illo
                    dolore mollitia qui quia.</p>
                <a href="read-more.html" class="btn">read more</a>
                <div class="icons-container">
                    <div class="icons">
                        <img src="image/about-icon-1.png" alt="">
                        <h3>quality coffee</h3>
                    </div>
                    <div class="icons">
                        <img src="image/about-icon-2.png" alt="">
                        <h3>our branches</h3>
                    </div>
                    <div class="icons">
                        <img src="image/about-icon-3.png" alt="">
                        <h3>free delivery</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MENU -->
    <section class="menu" id="menu">
        <h1 class="heading">our menu <span>popular menu</span></h1>

        <div class="box-container">
            <div class="box" data-product-id="1" data-product-name="Espresso Special" data-product-price="8.99" data-product-image="image/menu-1.png" data-product-description="Rich and bold espresso with notes of chocolate and caramel. Made from premium Arabica beans.">
                <img src="image/menu-1.png" alt="">
                <div class="content">
                    <h3>Espresso Special</h3>
                    <p>Rich and bold espresso with notes of chocolate and caramel.</p>
                    <span>$8.99</span>
                </div>
            </div>

            <div class="box" data-product-id="2" data-product-name="Cappuccino Deluxe" data-product-price="9.99" data-product-image="image/menu-2.png" data-product-description="Smooth cappuccino with perfectly steamed milk and rich foam. Topped with cocoa powder.">
                <img src="image/menu-2.png" alt="">
                <div class="content">
                    <h3>Cappuccino Deluxe</h3>
                    <p>Smooth cappuccino with perfectly steamed milk and rich foam.</p>
                    <span>$9.99</span>
                </div>
            </div>

            <div class="box" data-product-id="3" data-product-name="Latte Art" data-product-price="10.99" data-product-image="image/menu-3.png" data-product-description="Creamy latte with beautiful latte art. Available with vanilla or caramel syrup.">
                <img src="image/menu-3.png" alt="">
                <div class="content">
                    <h3>Latte Art</h3>
                    <p>Creamy latte with beautiful latte art and flavored syrups.</p>
                    <span>$10.99</span>
                </div>
            </div>

            <div class="box" data-product-id="4" data-product-name="Mocha Dream" data-product-price="11.99" data-product-image="image/menu-4.png" data-product-description="Decadent mocha with rich chocolate and espresso. Whipped cream on top.">
                <img src="image/menu-4.png" alt="">
                <div class="content">
                    <h3>Mocha Dream</h3>
                    <p>Decadent mocha with rich chocolate and whipped cream.</p>
                    <span>$11.99</span>
                </div>
            </div>

            <div class="box" data-product-id="5" data-product-name="Americano Bold" data-product-price="7.99" data-product-image="image/menu-5.png" data-product-description="Strong Americano with hot water added to espresso. Clean and robust flavor.">
                <img src="image/menu-5.png" alt="">
                <div class="content">
                    <h3>Americano Bold</h3>
                    <p>Strong Americano with clean and robust flavor profile.</p>
                    <span>$7.99</span>
                </div>
            </div>

            <div class="box" data-product-id="6" data-product-name="Caramel Macchiato" data-product-price="12.99" data-product-image="image/menu-6.png" data-product-description="Sweet caramel macchiato with vanilla syrup, steamed milk, and caramel drizzle.">
                <img src="image/menu-6.png" alt="">
                <div class="content">
                    <h3>Caramel Macchiato</h3>
                    <p>Sweet caramel macchiato with vanilla syrup and caramel drizzle.</p>
                    <span>$12.99</span>
                </div>
            </div>
        </div>
    </section>

    <!-- REVIEW -->
    <section class="review" id="review">
        <h1 class="heading">reviews <span>what people says</span></h1>

        <div class="swiper review-slider">
            <div class="swiper-wrapper">
                <div class="swiper-slide box">
                    <i class="fas fa-quote-left"></i>
                    <i class="fas fa-quote-right"></i>
                    <img src="image/pic-1.png" alt="">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo, earum quis dolorem quaerat tenetur
                        illum.</p>
                    <h3>john deo</h3>
                    <span>satisfied client</span>
                </div>

                <div class="swiper-slide box">
                    <i class="fas fa-quote-left"></i>
                    <i class="fas fa-quote-right"></i>
                    <img src="image/pic-2.png" alt="">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum optio quasi ut, illo ipsam
                        assumenda.</p>
                    <h3>john deo</h3>
                    <span>satisfied client</span>
                </div>

                <div class="swiper-slide box">
                    <i class="fas fa-quote-left"></i>
                    <i class="fas fa-quote-right"></i>
                    <img src="image/pic-3.png" alt="">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius asperiores aliquam hic quis!
                        Eligendi, aliquam.</p>
                    <h3>john deo</h3>
                    <span>satisfied client</span>
                </div>

                <div class="swiper-slide box">
                    <i class="fas fa-quote-left"></i>
                    <i class="fas fa-quote-right"></i>
                    <img src="image/pic-4.png" alt="">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eligendi modi perspiciatis distinctio
                        velit aliquid a.</p>
                    <h3>john deo</h3>
                    <span>satisfied client</span>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </section>

    <!-- BOOK -->
    <section class="book" id="book">
        <h1 class="heading">booking <span>reserve a table</span></h1>

        <form action="" id="bookingForm">
            <input type="text" placeholder="Name" class="box" id="bookingName">
            <input type="email" placeholder="Email" class="box" id="bookingEmail">
            <input type="number" placeholder="Number" class="box" id="bookingNumber">
            <input type="number" placeholder="Number of Guests" class="box" id="bookingGuests" min="1" max="20">
            <input type="time" placeholder="Booking Time" class="box" id="bookingTime">
            <textarea name="" placeholder="Message" class="box" id="bookingMessage" cols="30" rows="10"></textarea>
            <input type="submit" value="send message" class="btn">
        </form>
    </section>

    <!-- FOOTER -->
    <section class="footer">
        <div class="box-container">
            <div class="box">
                <h3>our branches</h3>
                <a href="#"><i class="fas fa-arrow-right"></i> india</a>
                <a href="#"><i class="fas fa-arrow-right"></i> USA</a>
                <a href="#"><i class="fas fa-arrow-right"></i> france</a>
                <a href="#"><i class="fas fa-arrow-right"></i> africa</a>
                <a href="#"><i class="fas fa-arrow-right"></i> japan</a>
            </div>

            <div class="box">
                <h3>quick links</h3>
                <a href="#home"><i class="fas fa-arrow-right"></i> home</a>
                <a href="#about"><i class="fas fa-arrow-right"></i> about</a>
                <a href="#menu"><i class="fas fa-arrow-right"></i> menu</a>
                <a href="#review"><i class="fas fa-arrow-right"></i> review</a>
                <a href="#book"><i class="fas fa-arrow-right"></i> book</a>
            </div>

            <div class="box">
                <h3>contact info</h3>
                <a href="#"><i class="fas fa-phone"></i> +123-456-7890</a>
                <a href="#"><i class="fas fa-phone"></i> +111-222-3333</a>
                <a href="#"><i class="fas fa-envelope"></i> coffee@gmail.com</a>
                <a href="#"><i class="fas fa-envelope"></i> Per√∫, Lima</a>
            </div>

            <div class="box">
                <h3>contact info</h3>
                <a href="#"><i class="fab fa-facebook-f"></i> facebook</a>
                <a href="#"><i class="fab fa-twitter"></i> twitter</a>
                <a href="#"><i class="fab fa-instagram"></i> instagram</a>
                <a href="#"><i class="fab fa-linkedin"></i> linkedin</a>
                <a href="#"><i class="fab fa-twitter"></i> twitter</a>
            </div>
        </div>

        <div class="credit">created by <span>mr. web designer</span> | all rights reserved</div>
    </section>

    <!-- Product Modal -->
    <div id="productModal" class="product-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="product-image">
                    <img id="modalProductImage" src="" alt="">
                </div>
                <div class="product-details">
                    <h2 id="modalProductName"></h2>
                    <p id="modalProductDescription"></p>
                    <div class="price" id="modalProductPrice"></div>
                    
                    <div class="quantity-selector">
                        <label for="quantity">Quantity:</label>
                        <div class="quantity-controls">
                            <button type="button" id="decreaseQty">-</button>
                            <input type="number" id="quantity" value="1" min="1" max="10" readonly>
                            <button type="button" id="increaseQty">+</button>
                        </div>
                    </div>
                    
                    <div class="size-selector">
                        <label>Size:</label>
                        <div class="size-options">
                            <label><input type="radio" name="size" value="small" checked> Small</label>
                            <label><input type="radio" name="size" value="medium"> Medium</label>
                            <label><input type="radio" name="size" value="large"> Large</label>
                        </div>
                    </div>
                    
                    <div class="add-ons">
                        <label>Add-ons:</label>
                        <div class="addon-options">
                            <label><input type="checkbox" value="extra-shot"> Extra Shot (+$1.50)</label>
                            <label><input type="checkbox" value="vanilla"> Vanilla Syrup (+$0.75)</label>
                            <label><input type="checkbox" value="caramel"> Caramel (+$0.75)</label>
                            <label><input type="checkbox" value="whipped"> Whipped Cream (+$0.50)</label>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button id="addToCartBtn" class="btn">Add to Cart</button>
                        <button id="buyNowBtn" class="btn btn-primary">Buy Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <span class="close-cart">&times;</span>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be dynamically added here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <strong>Total: <span id="cartTotal">$0.00</span></strong>
            </div>
            <button id="checkoutBtn" class="btn btn-primary">Proceed to Checkout</button>
        </div>
    </div>

    <!-- SWIPER -->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>   
    <!-- Custom JS Files -->
    <script src="js/booking.js"></script>
    <script src="js/cart.js"></script>

</body>

</html>
